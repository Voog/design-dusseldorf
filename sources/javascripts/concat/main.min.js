!function(e){e(function(){var a=function(e,t,n){var o;return function(){var i=this,a=arguments,s=function(){o=null,n||e.apply(i,a)},r=n&&!o;clearTimeout(o),o=setTimeout(s,t),r&&e.apply(i,a)}};if(e(".js-popup-menu").jsPopupMenu(),e("html").hasClass("no-placeholder")&&e('input[type="text"],textarea').each(function(){e(this).attr("placeholder")&&!e(this).val()&&e(this).val(e(this).attr("placeholder")),e(this).focus(function(){e(this).val()==e(this).attr("placeholder")&&e(this).val("")}).blur(function(){!e(this).val()&&e(this).attr("placeholder")&&e(this).val(e(this).attr("placeholder"))})}),e(".form_fields:not(.edy-fe-fields) select, .custom-select").jqSelect(),e("body:not(.editmode) table").each(function(){e(this).wrap('<div class="table-holder" />')}),e(".mobile-menu-toggler").click(function(t){t.preventDefault(),e("body").toggleClass("mobilemenu-open"),e("body").removeClass("mobilesearch-open"),e(".edy-ecommerce-shopping-cart-button").hide()}),e(".mobile-menu-close").on("click",function(t){t.preventDefault(),e("body").hasClass("language-menu-open")?e("body").removeClass("language-menu-open"):e("body").removeClass("mobilemenu-open"),e(".edy-ecommerce-shopping-cart-button").length>0&&(e("body").addClass("edy-checkout-button-visible"),e(".edy-ecommerce-shopping-cart-button").show())}),e(".language-menu-btn").on("click",function(t){t.preventDefault(),e("body").addClass("language-menu-open")}),e(".comment-form-focus-input").focus(function(){e(this).hide();e(this).closest(".comment-form").find(".form_area").show().find("textarea").focus(),o()}),e("body").hasClass("editmode")&&(i(),e(window).resize(a(i,100))),e("body").hasClass("front-page")){t(),e(window).resize(a(t,100));var s=function(){var e=0;return function(t,n){clearTimeout(e),e=setTimeout(t,n)}}();e("html").hasClass("editmode")&&e(".center-row .content-inner").keyup(function(){s(function(){n()},350)})}e("body").hasClass("front-page")||(o(),e(window).resize(a(o,100))),e(".comment-form").hasClass("form_with_errors")?e("html, body").scrollTop(e(".comment-form").offset().top):e("form").find(".form_error, .form_notice").length>0&&e("html, body").scrollTop(e(".form_error, .form_notice").closest("form").offset().top)});var t=function(){e(".main-menu").removeAttr("style"),e(".header-row .content-full").removeAttr("style"),e(".center-row .content-inner").removeAttr("style"),e(".center-row .content-inner .inner-bottom").removeAttr("style");var t=Math.round(.31*e(window).height()),n=(e(".header-row .content-full").css("min-height",t),e(window).height(),e(document).height()),o=e(".topbar").height(),i=e(".header-row").height(),a=e(".center-row").height(),s=e(".footer-row").height(),r=2*parseInt(e(".center-row .inner-padding").css("padding-top")),c=n-s-i-r,l=n-i-a-s,d=n-i-a-s-o;if(e(document).width()>=1024){if(e("html").hasClass("editmode")){e("#edy-bar").height(),e(".center-row .content-inner").css("min-height",c)}else{e(".center-row .content-inner").css("min-height",c)}var h=e(".content-left .content-inner").height(),m=e(".content-right .content-inner").height(),g=e(".content-left .content-inner .inner-bottom").height(),u=e(".content-right .content-inner .inner-bottom").height();h<g&&e(".center-row .content-left .inner-bottom").css("position","relative"),m<u&&e(".center-row .content-right .inner-bottom").css("position","relative");var p=e(".content-left .content-inner").height(),f=e(".content-right .content-inner").height();if(p>f){var v=p;e(".center-row .content-inner").css("min-height",v)}if(p<f){var v=f;e(".center-row .content-inner").css("min-height",v)}}if(l>0&&e(document).width()<1024){var b=d+e(".content-left .content-inner").height();e(".content-left .content-inner").css("min-height",b)}if(e(document).width()<1024){var h=e(".content-left .content-inner").height(),m=e(".content-right .content-inner").height(),g=e(".content-left .content-inner .inner-bottom").height(),u=e(".content-right .content-inner .inner-bottom").height();h<g&&e(".center-row .content-left .inner-bottom").css("position","relative"),m<u&&e(".center-row .content-right .inner-bottom").css("position","relative")}},n=function(){if(e(document).width()>=1024){var t=(e(".center-row").height(),e(".content-left").height(),e(".content-right").height(),e(".content-left .content-inner").height()),n=e(".content-right .content-inner").height(),o=e(".content-left .content-inner .inner-bottom").height(),i=e(".content-right .content-inner .inner-bottom").height();o>i&&e(".content-right .content-inner").animate({"min-height":t},"slow"),i>o&&e(".content-left .content-inner").animate({"min-height":n},"slow")}var a=e(".content-left .content-inner").height(),s=e(".content-right .content-inner").height(),r=e(".content-left .content-inner .inner-bottom").height(),c=e(".content-right .content-inner .inner-bottom").height();a<r?e(".center-row .content-left .inner-bottom").css("position","relative"):r<a&&e(".center-row .content-left .inner-bottom").css("position","absolute"),s<c?e(".center-row .content-right .inner-bottom").css("position","relative"):c<s&&e(".center-row .content-right .inner-bottom").css("position","absolute")},o=function(){if(e(window).width()>600){var t=parseInt(e(".sidebar-inner").css("padding-bottom")),n=e(".main > footer").height();if(t<n){e(".sidebar-inner").css("padding-bottom",n)}e(".js-content-top").removeAttr("style");var o=e(document).height();if(e(".js-content-top").height()<o){e(".js-content-top").css("min-height",o)}}else e(".js-content-top").css("min-height",0)},i=function(){var t=e(".site-title:visible");t.is(":empty")&&e(".site-title-editable").appendTo(t)}}(jQuery),function(e){e.fn.extend({jsPopupMenu:function(t){return this.each(function(){var t=e(this),n=t.find(".js-popup-menu-btn"),o=t.find(".js-popup-menu-popover");o.hide(),n.on("click",function(t){t.preventDefault(),o.is(":hidden")&&(o.show(),n.addClass("open"),setTimeout(function(){e(document).on("click.js-popup-menu-click",function(){o.hide(),n.removeClass("open"),e(this).off(".js-popup-menu-click")})},0))})}),this}})}(jQuery),function(e){e.jquerySelect=function(){return{init:function(t,n){t.wrap('<div class="jq-select" />');var o=t.parent(),i=e('<div class="jq-select-arrow"></div>'),a=e('<div class="jq-select-content" />'),s=e('<div class="jq-select-inner" />').text(t.children(":selected").text());a.append(s),o.append(a),o.append(i),t.hasClass("form_field_size_large")?(t.removeClass("form_field_size_large"),o.addClass("form_field_size_large")):t.hasClass("form_field_size_medium")?(t.removeClass("form_field_size_medium"),o.addClass("form_field_size_medium")):t.hasClass("form_field_size_small")?(t.removeClass("form_field_size_small"),o.addClass("form_field_size_small")):o.addClass("form_field_size_small"),t.change(e.proxy(function(){s.text(t.children(":selected").text())},this)),t.keyup(e.proxy(function(){s.text(t.children(":selected").text())},this)),t.bind("update",e.proxy(function(){s.text(t.children(":selected").text())},this))}}}(),e.fn.extend({jqSelect:function(t){return this.each(function(){var n=e.extend({},t);e.jquerySelect.init(e(this),n)}),this}})}(jQuery),function(e){var t=e("body").hasClass("blog-article-page"),n=function(t,n,o){var i=function(){contentHalfBgCombinedLightness>=.5?e(n).find(".js-background-type").addClass("light-background").removeClass("dark-background"):e(n).find(".js-background-type").addClass("dark-background").removeClass("light-background")},a=t.imageSizes?function(e,t){for(var n,o=0,i=e.length;o<i;o++){if(e[o].width<t)return n||e[o];n=e[o]}return e[e.length-1]}(t.imageSizes,e(window).width()):"none",r=e(n).css("background-image"),c=t.image&&""!==t.image?"url("+a.url+")":"none",l=t.imageSizes&&""!==t.imageSizes?t.imageSizes:null,d=t.color&&""!==t.color?t.color:"rgba(0,0,0,0)",h=(t.colorData&&""!==t.colorData&&t.colorData.a,t.colorData&&""!==t.colorData&&t.colorData.lightness,e("<img>")),m=e("<canvas>"),g=t.image&&""!==t.image?t.image:null;g?!function(e,t){for(var n=e.length;n--;)if(t.indexOf(e[n].url.trim())>-1)return!0;return!1}(l,r)?(h.attr("src",g.replace(/.*\/(photos|voogstock)/g,"/photos")),h.on("load",function(){ColorExtract.extract(h[0],m[0],function(e){o.contentHalfBgImageColor=e.bgColor?e.bgColor:"rgba(255,255,255,1)",contentHalfBgCombinedLightness=s(o.contentHalfBgImageColor,d),i()})})):(contentHalfBgCombinedLightness=s(o.contentHalfBgImageColor,d),i()):(contentHalfBgCombinedLightness=s("rgba(255,255,255,1)",d),i()),c.split("/").pop()!=r.split("/").pop()&&e(n).css({"background-image":c}),e(n).find(".background-color").css({"background-color":d})},o=function(n,o){var i=e.extend(!0,{},n);i.image=n.image||"",i.imageSizes=n.imageSizes||"",i.color=n.color||"rgba(255,255,255,0)",i.combinedLightness=contentHalfBgCombinedLightness,t?Edicy.articles.currentArticle.setData(o,i):pageData.set(o,i)},i=function(t,n){if(t&&n){"string"==typeof t&&(t=t.replace(/rgba?\(/,"").replace(/\)/,"").split(","),e.each(t,function(e,n){t[e]=+n})),"string"==typeof n&&(n=n.replace(/rgba?\(/,"").replace(/\)/,"").split(","),e.each(n,function(e,t){n[e]=+t})),"object"==typeof t&&t.hasOwnProperty("length")&&3==t.length&&t.push(1),"object"==typeof n&&n.hasOwnProperty("length")&&3==n.length&&n.push(1);var o=[0,0,0,0];return o[3]=1-(1-n[3])*(1-t[3]),0===o[3]&&(o[3]=1e-6),o[0]=Math.min(n[0]*n[3]/o[3]+t[0]*t[3]*(1-n[3])/o[3],255),o[1]=Math.min(n[1]*n[3]/o[3]+t[1]*t[3]*(1-n[3])/o[3],255),o[2]=Math.min(n[2]*n[3]/o[3]+t[2]*t[3]*(1-n[3])/o[3],255),e.map(o,function(e){return Math.floor(e)})}},a=function(e,t){return i(e||[255,255,255,1],t||[255,255,255,1])},s=function(e,t){var n=a(e,t);return Math.round((.2126*+n[0]+.7152*+n[1]+.0722*+n[2])/2.55)/100},r=function(){e(".js-option-toggle-flags").on("click",function(t){if(t.stopPropagation(),e(this).hasClass("js-flag-disable-btn"))var n=!1;else var n=!0;e(this).toggleClass("js-flag-disable-btn"),e(".js-menu-lang-wrap").toggleClass("flags-enabled flags-disabled"),siteData.set("flags_state",n)})},c=function(){return e("html").hasClass("editmode")},l=function(){c()||u()},d=function(t){e(".js-content-item-img-drop-area").each(function(n,o){var i=e(o),a=i.closest(".js-content-item-box"),s=a.data("item-id"),r=a.data("item-type");new Edicy.CustomData({type:r,id:s}),new Edicy.ImgDropArea(i,{positionable:!1,target_width:1280,placeholder:'<div class="edy-img-drop-area-placeholder">'+t+"</div>",removeBtn:'<div class="edy-img-drop-area-remove-image"><div class="edy-img-drop-area-remove-image-ico"><svg width="16" height="20" viewBox="0 0 26 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="currentColor"><g transform="translate(2 5)"><path d="M0 .997h2V21c0 1 1 2 2 2h14c1 0 2-1 2-2V1h2v20c0 2.25-1.75 4-4 4H4c-2.25 0-4-1.75-4-4V.997z"/><rect x="10" y="4" width="2" height="16" rx="1"/><rect x="5" y="4" width="2" height="16" rx="1"/><rect x="15" y="4" width="2" height="16" rx="1"/></g><path d="M26 4v2H0V4h7V2c0-1 1-2 2-2h8c1 0 2 1 2 2v2h7zM9 4h8V3c0-.5-.5-1-1-1h-6c-.5 0-1 .5-1 1v1z"/></g></svg></div></div>',change:function(e){var t;i.removeClass("is-cropped").addClass("not-cropped").css("opacity",.1),e?(t=e.original_id,a.removeClass("without-image is-loaded with-error").addClass("with-image not-loaded"),h(a,e.width,e.height)):(t=null,a.removeClass("with-image is-loaded with-error").addClass("without-image not-loaded"),a.find(".edy-img-drop-area-placeholder").css("opacity",0)),m(a,i,s,t,r)}})})},h=function(e,t,n){var o=e.find(".js-content-item-img-drop-area"),i=e.find(".js-toggle-crop-state");t>n?o.removeClass("image-landscape image-square image-portrait").addClass("image-landscape"):t===n?o.removeClass("image-landscape image-square image-portrait").addClass("image-square"):o.removeClass("image-landscape image-square image-portrait").addClass("image-portrait"),o.hasClass("image-square")?i.removeClass("is-visible").addClass("is-hidden"):i.removeClass("is-hidden").addClass("is-visible")},m=function(t,n,o,i,a){var s="article"===a?"articles":"pages",r=new Edicy.CustomData({type:a,id:o});e.ajax({type:"PATCH",contentType:"application/json",url:"/admin/api/"+s+"/"+o,data:JSON.stringify({image_id:i}),dataType:"json",success:function(e){r.set("image_crop_state","not-cropped"),t.removeClass("not-loaded with-error").addClass("is-loaded"),t.find(".edy-img-drop-area-placeholder").css("opacity",1),n.css("opacity",1)},timeout:3e4,error:function(e){t.removeClass("not-loaded is-loaded with-error").addClass("with-error")}})},g=function(){e(".js-toggle-crop-state").on("click",function(){var t,n=e(this).closest(".js-content-item-box"),o=n.find(".js-content-item-img-drop-area"),i=n.data("item-id"),a=n.data("item-type"),s=new Edicy.CustomData({type:a,id:i});o.hasClass("is-cropped")?(o.removeClass("is-cropped").addClass("not-cropped"),t="not-cropped"):(o.removeClass("not-cropped").addClass("is-cropped"),t="is-cropped"),s.set("image_crop_state",t)})},u=function(){e(document).ready(function(){setTimeout(function(){e(".js-content-item-box").addClass("not-loaded")},3e3)}),e(".js-lazyload").lazyload({threshold:500,effect:"fadeIn",placeholder:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",load:function(){var t=e(this).closest(".js-content-item-box");t.removeClass("not-loaded with-error").addClass("is-loaded"),setTimeout(function(){t.removeClass("not-loaded with-error"),t.find(".js-loader").remove()},3e3)}})},p=function(t){"show_product_related_pages_in_main_menu"in t||(t.show_product_related_pages_in_main_menu=!1),e(".js-root-item-settings-toggle").each(function(n,o){new Edicy.SettingsEditor(o,{menuItems:[{titleI18n:"show_in_main_menu",type:"checkbox",key:"show_product_related_pages_in_main_menu",states:{on:!0,off:!1}}],buttonTitleI18n:"settings",values:t,containerClass:["js-root-item-settings-popover","js-prevent-sideclick"],preview:function(t){!0==!t.show_product_related_pages_in_main_menu?e(".js-menu-item-products").addClass("is-hidden"):e(".js-menu-item-products").removeClass("is-hidden"),setHeaderMenuInitialWidth(),setHeaderMenuMode()},commit:function(e){siteData.set("settings_root_item",e)}})})};window.template=e.extend(window.template||{},{initItemsPage:l,bindRootItemSettings:p,bindContentItemImgDropAreas:d,bindContentItemImageCropToggle:g}),window.site=e.extend(window.site||{},{contentHalfBgPreview:n,contentHalfBgCommit:o,toggleFlags:r}),function(){!Modernizr.flexbox&&c()&&(bindFallbackHeaderContentAreaWidthCalculation(),bindFallbackFooterContentAreaWidthCalculation())}(),function(){e(window).resize(debounce(function(){setHeaderMenuMode(),languageMenuPopoverOpen()&&positionPopoverMenu(".js-toggle-menu-language",".js-menu-language-popover")},25))}()}(jQuery);